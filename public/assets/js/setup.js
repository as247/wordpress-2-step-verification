!function(s){var t={};function e(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return s[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=s,e.c=t,e.d=function(s,t,i){e.o(s,t)||Object.defineProperty(s,t,{configurable:!1,enumerable:!0,get:i})},e.n=function(s){var t=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(t,"a",t),t},e.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},e.p="/",e(e.s=4)}([function(s,t){s.exports=function(s,t,e,i,a,n){var o,r=s=s||{},c=typeof s.default;"object"!==c&&"function"!==c||(o=s,r=s.default);var p,v="function"==typeof r?r.options:r;if(t&&(v.render=t.render,v.staticRenderFns=t.staticRenderFns,v._compiled=!0),e&&(v.functional=!0),a&&(v._scopeId=a),n?(p=function(s){(s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(s=__VUE_SSR_CONTEXT__),i&&i.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(n)},v._ssrRegister=p):i&&(p=i),p){var d=v.functional,l=d?v.render:v.beforeCreate;d?(v._injectStyles=p,v.render=function(s,t){return p.call(t),l(s,t)}):v.beforeCreate=l?[].concat(l,p):[p]}return{esModule:o,exports:r,options:v}}},function(s,t,e){"use strict";t.a={data:function(){return{i18n:{__:wp.i18n.__,_x:wp.i18n._x,_n:wp.i18n._n,_nx:wp.i18n._nx}}},methods:{sprintf:wp.i18n.sprintf}}},function(s,t,e){"use strict";var i=e(3);if(!window.wp2sv.store){var a=wp.i18n,n=a.__;a._x,a._n,a._nx;window.wp2sv.store={state:{page:"index",active_sessions:0,app_passwords:[],backup_codes:0,emails:[],mobile_dev:"",mobile_at:"",enabled:!1,enabled_at:"",otp:{},time:{local:"",server:"",offset:""},user_display_name:"",user_login:"",_nonce:""},update:function(s){Object.assign(this.state,s)},set:function(s,t){this.state[s]=t},load:function(){var s=this;return wp2sv.toast.info(n("Loading...","wordpress-2-step-verification")),i.a.ajax({type:"POST",dataType:"json",url:wp2sv.ajaxurl,data:{action:"wp2sv_setup_data"}}).done(function(t){t?(s.update(t),wp2sv.toast.hide()):s.reload()}).fail(function(){s.reload()})},reload:function(){window.location.reload()}},window.wp2sv.store.update(window.wp2sv_setup)}t.a=window.wp2sv.store},function(s,t,e){"use strict";t.a=jQuery},function(s,t,e){e(5),e(44),e(45),e(46),s.exports=e(47)},function(s,t,e){(function(s){var t,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};(t="object"===("undefined"==typeof self?"undefined":i(self))&&self.self===self&&self||"object"===(void 0===s?"undefined":i(s))&&s.global===s&&s).wp2sv=t.wp2sv||{},t.wp2sv.setup=function(s,t,i){var a={init:function(){this.registerComponents(),i("#wp2sv-setup").length&&(this.vm=new s({el:"#wp2sv-setup"}))},registerComponents:function(){s.component("wp2sv-route",e(7)),s.component("wp2sv-setup",e(10)),s.component("wp2sv-app-passwords",e(13)),s.component("wp2sv-status",e(16)),s.component("wp2sv-settings",e(19)),s.component("wp2sv-clock",e(22)),s.component("wp2sv-enroll-email",e(25)),s.component("wp2sv-enroll-app",e(27)),s.component("wp2sv-enroll-welcome",e(29)),s.component("wp2sv-start",e(32)),s.component("authenticator",e(35)),s.component("backup-codes",e(38)),s.component("wp2sv-emails",e(41))}};return a.init(),a}(Vue,_,jQuery)}).call(t,e(6))},function(s,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(s){"object"==typeof window&&(e=window)}s.exports=e},function(s,t,e){var i=e(0)(e(8),e(9),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),a=e(2);t.default={mixins:[i.a],data:function(){return{state:a.a.state}},mounted:function(){},methods:{},computed:{}}},function(s,t){s.exports={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"v-cloak"},["index"===this.state.page?t("wp2sv-setup"):this._e(),this._v(" "),"app_passwords"===this.state.page?t("wp2sv-app-passwords"):this._e()],1)},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(11),e(12),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),a=e(2);t.default={mixins:[i.a],data:function(){return{state:a.a.state}},mounted:function(){},methods:{},computed:{}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("wp2sv-status",s._b({},"wp2sv-status",{enabled:s.state.enabled,enabled_at:s.state.enabled_at,time:s.state.time},!1)),s._v(" "),s.state.enabled?e("div",{staticClass:"wp2sv-container"},[e("wp2sv-settings")],1):e("div",{staticClass:"wp2sv-container wp2sv-start"},[e("wp2sv-start")],1),s._v(" "),e("div",{staticClass:"wp2sv-modal",attrs:{id:"wp2sv-change-device",tabindex:"0"}},[e("authenticator")],1),s._v(" "),e("div",{staticClass:"wp2sv-modal",attrs:{id:"wp2sv-add-email",tabindex:"0"}},[e("wp2sv-emails")],1),s._v(" "),e("div",{staticClass:"wp2sv-modal",attrs:{id:"wp2sv-backup-codes-modal",tabindex:"0"}},[e("backup-codes")],1),s._v(" "),e("div",{staticClass:"wp2sv-modal",attrs:{id:"wp2sv-confirm"}},[e("div",{staticClass:"wp2sv-modal-content"},[e("div",{staticClass:"wp2sv-h1"}),s._v(" "),e("div",{staticClass:"wp2sv-p"}),s._v(" "),e("div",{staticClass:"wp2sv-row"},[e("div",{staticClass:"pull-right wp2sv-actions"},[e("span",{staticClass:"wp2sv-action wp2sv-confirm-btn wp2sv-cancel-btn wp2sva-black"},[s._v(s._s(s.i18n.__("Cancel","wordpress-2-step-verification")))]),s._v(" "),e("span",{staticClass:"wp2sv-action wp2sv-confirm-btn",attrs:{"data-btn-ok":""}},[s._v(s._s(s.i18n.__("Ok","wordpress-2-step-verification")))])])])])])],1)},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(14),e(15),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),a=e(3),n=e(2),o=wp.i18n,r=o.__;o._x,o._n,o._nx;t.default={props:["app_passwords"],mixins:[i.a],data:function(){return{passwords:n.a.state.app_passwords||[],name:""}},methods:{backToSetup:function(s){s.preventDefault(),n.a.set("page","index")},generate:function(){var s=this;wp2sv.toast.info(r("Working...","wordpress-2-step-verification")),wp2sv.post("password_create",{name:this.name}).done(function(t){t.data&&(s.passwords.push(t.data),s.showPassword(t.data.p)),wp2sv.toast.hide()})},remove:function(s){var t=this,e=this.passwords[s].i;wp2sv.toast.info(r("Working...","wordpress-2-step-verification")),wp2sv.post("password_remove",{index:e}).done(function(e){e.success&&t.passwords.splice(s,1),wp2sv.toast.hide()})},showPassword:function(s){var t=Object(a.a)("#app-password-created"),e="";"string"==typeof s&&s.match(/.{1,4}/g).forEach(function(s){e+='<span class="apc-pchunk"><span>'+s.split("").join("</span><span>")+"</span></span>"});t.find(".apc-pass").html(e),wp2sv.openModal(t)}},mounted:function(){console.log(this.passwords)}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("h2",{staticClass:"wp-heading-inline"},[e("a",{staticClass:"wp2sv-back",attrs:{href:"#"},on:{click:s.backToSetup}},[e("span",{staticClass:"dashicons dashicons-arrow-left-alt2"})]),s._v("\n        "+s._s(s.i18n.__("App passwords","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("App passwords let you sign in to your Wordpress Account from apps on devices that don't support 2-Step Verification. You'll only need to enter it once so you don't need to remember it.","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-app-passwords"},[e("div",{staticClass:"wp2sv-container"},[s.passwords.length?e("table",{staticClass:"wp2sv-table",attrs:{id:"the-app-passwords"}},[e("thead",[e("tr",{staticClass:"row"},[e("th",{staticClass:"col-name"},[s._v(s._s(s.i18n.__("Name","wordpress-2-step-verification")))]),s._v(" "),e("th",{staticClass:"col-created"},[s._v(s._s(s.i18n.__("Created","wordpress-2-step-verification")))]),s._v(" "),e("th",{staticClass:"col-last-used"},[s._v(s._s(s.i18n.__("Last used","wordpress-2-step-verification")))]),s._v(" "),e("th",{staticClass:"col-access"},[s._v(s._s(s.i18n.__("Access","wordpress-2-step-verification")))])])]),s._v(" "),e("tbody",s._l(s.passwords,function(t,i){return e("tr",{staticClass:"app-password-item row"},[e("td",{staticClass:"col-name"},[s._v(s._s(t.n))]),s._v(" "),e("td",{staticClass:"col-created",attrs:{"data-c":""}},[s._v(s._s(t.c)+"\n                    ")]),s._v(" "),e("td",{staticClass:"col-last-used"},[s._v(s._s(t.u?t.u:"â€“"))]),s._v(" "),e("td",{staticClass:"col-access"},[e("button",{staticClass:"wp2sv-btn",on:{click:function(t){return s.remove(i)}}},[e("span",{staticClass:"dashicons dashicons-trash wp2sv-clickable"}),s._v("\n                            "+s._s(s.i18n.__("Revoke","wordpress-2-step-verification"))+"\n                        ")])])])}),0)]):e("div",{staticClass:"no-app-pass"},[s._v(s._s(s.i18n.__("You have no app passwords.","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"app-add-password"},[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"app-name",attrs:{type:"text",maxlength:"100",placeholder:"e.g. WP on my Android"},domProps:{value:s.name},on:{input:function(t){t.target.composing||(s.name=t.target.value)}}})]),s._v(" "),e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",attrs:{disabled:!s.name},on:{click:s.generate}},[s._v(s._s(s.i18n.__("Generate","wordpress-2-step-verification")))])])])]),s._v(" "),e("div",{staticClass:"wp2sv-modal",attrs:{id:"app-password-created",tabindex:"0"}},[e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                "+s._s(s.i18n.__("Generated app password","wordpress-2-step-verification"))+"\n            ")]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"apc-title"},[s._v(s._s(s.i18n.__("Your app password for your device","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"apc-pass"}),s._v(" "),e("div",{staticClass:"apc-direction"},[e("div",{staticClass:"apc-title"},[s._v(s._s(s.i18n.__("How to use it","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Go to the settings for your Wordpress Account in the application or device you are trying to set up. Replace your password with the 16-character password shown above.","wordpress-2-step-verification"))+"\n                        "),e("br"),s._v("\n                        "+s._s(s.i18n.__("Just like your normal password, this app password grants complete access to your Wordpress Account. You won't need to remember it, so don't write it down or share it with anyone.","wordpress-2-step-verification"))+"\n                    ")])])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"wp2sv-row"},[e("div",{staticClass:"pull-right"},[e("span",{staticClass:"wp2sv-action wp2sv-modal-close"},[s._v(s._s(s.i18n.__("Done","wordpress-2-step-verification")))])])])])])])])},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(17),e(18),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),a=e(2),n=wp.i18n,o=n.__;n._x,n._n,n._nx;t.default={props:["enabled","enabled_at","time"],mixins:[i.a],methods:{enable:function(s){s&&s.preventDefault(),this.$root.$emit("enroll:start")},disable:function(s){s&&s.preventDefault();wp2sv.confirm(o("Turn off 2-Step Verification?","wordpress-2-step-verification"),o("Turning off 2-Step Verification will remove the extra security on your account, and youâ€™ll only use your password to sign in.","wordpress-2-step-verification")).then(function(s){s&&wp2sv.post("disable").done(function(){a.a.set("enabled",!1)})})}}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"wp2sv-row wp2sv-notice",class:s.enabled?"wp2sv-notice-success":"wp2sv-notice-error",attrs:{id:"wp2sv-status"}},[e("div",{staticClass:"wp2sv-col"},[s.enabled?e("p",{domProps:{innerHTML:s._s(s.sprintf(s.i18n.__("2-step verification is <strong>ON</strong> since %s","wordpress-2-step-verification"),s.enabled_at))}}):e("p",{domProps:{innerHTML:s._s(s.i18n.__("2-step verification is <strong>OFF</strong>","wordpress-2-step-verification"))}}),s._v(" "),e("p",[s.enabled?e("a",{attrs:{href:"#",id:"wp2sv-disable-link"},on:{click:s.disable}},[s._v(s._s(s.i18n.__("Turn off 2-step verification...","wordpress-2-step-verification")))]):e("a",{attrs:{href:"#"},on:{click:s.enable}},[s._v(s._s(s.i18n.__("Turn on 2-step verification...","wordpress-2-step-verification")))])])]),s._v(" "),e("div",{staticClass:"wp2sv-col"},[e("wp2sv-clock",{attrs:{"gmt-offset":s.time.offset,"server-time":s.time.server,"local-time":s.time.local}})],1)])},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(20),e(21),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),a=e(2),n=wp.i18n,o=n.__;n._x,n._n,n._nx;t.default={mixins:[i.a],data:function(){return{state:a.a.state}},methods:{appPasswords:function(){a.a.set("page","app_passwords")},removeApp:function(){var s=this;if(this.state.emails.length<1)return wp2sv.alert(o("2-Step Verification isn't allowed without an email or the Authenticator app"));var t=this.sprintf(o("Removing this option will make verification codes on %s your default second step. Are you sure you want to proceed?"),this.state.emails[0].e);wp2sv.confirm("",t).then(function(t){t&&wp2sv.post({action:"remove-app"}).done(function(t){t&&t.success&&(s.state.mobile_dev="")}).always(function(){})})},removeEmail:function(s){var t=this.state,e=t.emails[s];if(!t.mobile_dev&&1===t.emails.length)return wp2sv.alert(o("2-Step Verification isn't allowed without an email or the Authenticator app"));wp2sv.toast.info(o("Working...","wordpress-2-step-verification")),wp2sv.post({action:"remove-email",email:e.id}).done(function(e){e&&e.success&&t.emails.splice(s,1)}).always(function(){wp2sv.toast.hide()})},primaryMail:function(s){var t=this.state,e=t.emails[s];wp2sv.toast.info(o("Working...","wordpress-2-step-verification")),wp2sv.post({action:"primary-email",email:e.id}).done(function(i){i&&i.success&&(t.emails.splice(s,1),t.emails.unshift(e))}).always(function(){wp2sv.toast.hide()})},revokeTrusted:function(){wp2sv.confirm(o("Revoke trust from all devices","wordpress-2-step-verification"),o("To sign in again you'll need your phone or a backup option for the second step.","wordpress-2-step-verification")).then(function(s){s&&wp2sv.post({action:"destroy_other_sessions"}).done(function(s){wp2sv.toast.info(o("Trusted device reset","wordpress-2-step-verification")).hideAfter(2e3)})})}}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("h2",[s._v(s._s(s.i18n.__("Your second step","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("After entering your password, youâ€™ll be asked for a second verification step.","wordpress-2-step-verification")))]),s._v(" "),s.state.mobile_dev?e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(0),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                    "+s._s(s.i18n.__("Authenticator app","wordpress-2-step-verification"))+" "),e("strong",{},[s._v("("+s._s(s.i18n.__("Default","wordpress-2-step-verification"))+")")])])]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-row"},[e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h2"},[s._v(s._s(s.sprintf(s.i18n.__("Authenticator on %s","wordpress-2-step-verification"),s.state.mobile_dev)))])]),s._v(" "),e("div",{staticClass:"wp2sv-col-0"},[e("span",{staticClass:"dashicons dashicons-trash wp2sv-clickable",on:{click:s.removeApp}})])]),s._v(" "),s.state.mobile_added?e("div",{staticClass:"wp2sv-text"},[s._v(s._s(s.i18n.__("Added:","wordpress-2-step-verification"))+" "+s._s(s.state.mobile_added))]):s._e()]),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",attrs:{"data-wp2sv-modal":"#wp2sv-change-device"}},[s._v(s._s(s.i18n.__("Change phone","wordpress-2-step-verification")))])])])])]):s._e(),s._v(" "),s.state.emails.length?e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(1),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                    "+s._s(s.i18n.__("Text message","wordpress-2-step-verification"))+" "),s.state.mobile_dev?s._e():e("strong",[s._v("("+s._s(s.i18n.__("Default","wordpress-2-step-verification"))+")")])])]),s._v(" "),e("div",{staticClass:"card-body"},s._l(s.state.emails,function(t,i){return e("div",{staticClass:"wp2sv-email"},[e("div",{staticClass:"wp2sv-row"},[e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h2"},[s._v(s._s(t.e)+" "),0===i?e("small",{staticClass:"wp2sv-text-primary"},[s._v("("+s._s(s.i18n.__("Primary","wordpress-2-step-verification"))+")")]):s._e()])]),s._v(" "),e("div",{staticClass:"wp2sv-col-0"},[i>0?e("span",{staticClass:"dashicons dashicons-sticky wp2sv-clickable",attrs:{title:"Set as primary"},on:{click:function(t){return s.primaryMail(i)}}}):s._e(),s._v(" "),e("span",{staticClass:"dashicons dashicons-trash wp2sv-clickable",attrs:{title:"Remove"},on:{click:function(t){return s.removeEmail(i)}}})])]),s._v(" "),t.t?e("div",{staticClass:"wp2sv-text",attrs:{title:t.t}},[s._v(s._s(s.i18n.__("Added:","wordpress-2-step-verification"))+" "+s._s(t.added))]):s._e()])}),0),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",attrs:{"data-wp2sv-modal":"#wp2sv-add-email"}},[s._v(s._s(s.i18n.__("Add email","wordpress-2-step-verification")))])])])])]):s._e(),s._v(" "),s.state.backup_codes?e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(2),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                    "+s._s(s.i18n.__("Backup codes","wordpress-2-step-verification"))+"\n                ")])]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-text"},[s._v(s._s(s.sprintf(s.i18n.__("%s single-use codes are active at this time, but you can generate more as needed.","wordpress-2-step-verification"),s.state.backup_codes)))])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",attrs:{"data-wp2sv-modal":"#wp2sv-backup-codes-modal"}},[s._v(s._s(s.i18n.__("Show codes","wordpress-2-step-verification")))])])])])]):s._e(),s._v(" "),!s.state.mobile_dev||s.state.emails.length<1||!s.state.backup_codes?e("div",{staticClass:"wp2sv-alternative-section"},[e("h2",[s._v(s._s(s.i18n.__("Set up alternative second step","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Set up at least one backup option so that you can sign in even if your other second steps arenâ€™t available.","wordpress-2-step-verification")))]),s._v(" "),s.state.mobile_dev?s._e():e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(3),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                        "+s._s(s.i18n.__("Authenticator app","wordpress-2-step-verification"))+"\n                    ")])]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-text"},[s._v(s._s(s.i18n.__("Use the Authenticator app to get free verification codes, even when your phone is offline. Available for Android and iPhone.","wordpress-2-step-verification")))])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",attrs:{"data-wp2sv-modal":"#wp2sv-change-device"}},[s._v(s._s(s.i18n.__("Set up","wordpress-2-step-verification")))])])])])]),s._v(" "),s.state.emails.length<1?e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(4),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                        "+s._s(s.i18n.__("Backup email","wordpress-2-step-verification"))+"\n                    ")])]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-text"},[s._v(s._s(s.i18n.__("Add a backup phone so you can still sign in if you lose your phone.","wordpress-2-step-verification")))])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",attrs:{"data-wp2sv-modal":"#wp2sv-add-email"}},[s._v(s._s(s.i18n.__("Add email")))])])])])]):s._e(),s._v(" "),s.state.backup_codes?s._e():e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(5),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                        "+s._s(s.i18n.__("Backup codes","wordpress-2-step-verification"))+"\n                    ")])]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-text"},[s._v(s._s(s.i18n.__("These printable one-time passcodes allow you to sign in when away from your phone, like when youâ€™re traveling.","wordpress-2-step-verification")))])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",attrs:{"data-wp2sv-modal":"#wp2sv-backup-codes-modal"}},[s._v(s._s(s.i18n.__("Set up","wordpress-2-step-verification")))])])])])]),s._v(" "),s._e()]):s._e(),s._v(" "),e("h2",[s._v(s._s(s.i18n.__("App passwords","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("App passwords let you sign in to your Wordpress Account from apps on devices that don't support 2-Step Verification","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(7),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[e("a",{staticClass:"wp2sv-action",on:{click:s.appPasswords}},[s._v(s._s(s.sprintf(s.i18n._n("%d password","%d passwords",s.state.app_passwords.length,"wordpress-2-step-verification"),s.state.app_passwords.length)))])])]),s._v(" "),e("div",{staticClass:"card-footer"})])])]),s._v(" "),e("h2",[s._v(s._s(s.i18n.__("Devices that do not need a second step.","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("You can skip the second step on devices you trust, such as your own computer.","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"wp2sv-row"},[s._m(8),s._v(" "),e("div",{staticClass:"card-content wp2sv-col"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                    "+s._s(s.i18n.__("Devices you trust","wordpress-2-step-verification"))+"\n                ")])]),s._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-text"},[s._v("\n                    "+s._s(s.i18n.__("Revoke trusted status from your devices that skip 2-Step Verification.","wordpress-2-step-verification"))+"\n                    "),e("br"),s._v(s._s(s.sprintf(s._n("There is %s active session","There are %s active sessions",4,"wordpress-2-step-verification"),4))+"\n                ")])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("span",{staticClass:"wp2sv-action",on:{click:s.revokeTrusted}},[s._v(s._s(s.i18n.__("Revoke all","wordpress-2-step-verification")))])])])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-ga"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-message"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-airplane"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-ga"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-message"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-airplane"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-usb"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-app-passwords"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-icon"},[t("div",{staticClass:"wp2sv-icon wp2svi-devices"})])}]}},function(s,t,e){var i=e(0)(e(23),e(24),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1);t.default={props:["serverTime","localTime","gmtOffset"],mixins:[i.a],data:function(){return{tickerId:null,server:0,local:0,server_time:"",local_time:"",gmt_offset:"",loading:0,ready:0}},created:function(){this.gmt_offset=this.gmtOffset>0?"+"+this.gmtOffset:this.gmtOffset,this.getTime(this.serverTime,this.localTime),this.ticker(),this.tickerId=setInterval(this.ticker,1e3),this.ready=1,this.syncTime()},destroyed:function(){this.tickerId&&clearInterval(this.tickerId)},methods:{ticker:function(){var s=(new Date).getTime();this.server_time=this.timeString(s+this.server),this.local_time=this.timeString(s+this.local)},syncTime:function(){this.loading=1;var s=this;wp2sv.post("time_sync").then(function(t){return s.loading=0,s.getTime(t.data.server,t.data.local),t})},getTime:function(s,t){s&&(s*=1e3,this.server=s-(new Date).getTime()),t&&(t*=1e3,this.local=t-(new Date).getTime())},timeString:function(s){var t=new Date(s),e=t.getUTCFullYear(),i=t.getUTCMonth()+1,a=t.getUTCDate(),n=t.getUTCHours(),o=t.getUTCMinutes(),r=t.getUTCSeconds(),c=function(s){return s<10&&(s="0"+s),s};return n=c(n),e+"-"+(i=c(i))+"-"+(a=c(a))+" "+n+":"+(o=c(o))+":"+(r=c(r))}}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return s.ready?e("div",{staticClass:"wp2sv-clock"},[e("p",{staticClass:"time-utc"},[s._v("\n        "+s._s(s.i18n.__("Your server time in UTC is:","wordpress-2-step-verification"))+" "),e("span",[s._v(s._s(s.server_time))]),s._v(" "),e("a",{staticClass:"sync-link",class:s.loading?"loading":"",attrs:{id:"sync-clock",title:s.i18n.__("Sync time","wordpress-2-step-verification")},on:{click:s.syncTime}},[s._v(s._s(s.i18n.__("Sync time","wordpress-2-step-verification")))])]),s._v(" "),"0"!==s.gmt_offset?e("p",{staticClass:"time-local"},[s._v("\n        "+s._s(s.sprintf(s.i18n.__("Your local time in UTC%s is:","wordpress-2-step-verification"),s.gmt_offset))+" "),e("span",[s._v(s._s(s.local_time))])]):s._e()]):s._e()},staticRenderFns:[]}},function(s,t,e){var i=e(0)(null,e(26),!1,null,null,null);s.exports=i.exports},function(s,t){s.exports={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-card"},[t("wp2sv-emails",{attrs:{enroll:"1"}})],1)},staticRenderFns:[]}},function(s,t,e){var i=e(0)(null,e(28),!1,null,null,null);s.exports=i.exports},function(s,t){s.exports={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-card"},[t("authenticator",{attrs:{enroll:"1"}})],1)},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(30),e(31),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1);t.default={mixins:[i.a]}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"wp2sv-card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"wp2sv-row"},[s._m(0),s._v(" "),e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Protect your account with 2-Step Verification","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Each time you sign in to your account, you'll need your password and a verification code. ","wordpress-2-step-verification")))])])]),s._v(" "),e("div",{staticClass:"wp2sv-row mt"},[s._m(1),s._v(" "),e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h2 mt"},[s._v(s._s(s.i18n.__("Add an extra layer of security","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[s._v(s._s(s.i18n.__("Enter your password and a unique verification code that's sent to your phone.","wordpress-2-step-verification")))])])]),s._v(" "),e("div",{staticClass:"wp2sv-row mt"},[s._m(2),s._v(" "),e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h2"},[s._v(s._s(s.i18n.__("Keep the bad guys out","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[s._v(s._s(s.i18n.__("Even if someone else gets your password, it won't be enough to sign in to your account.","wordpress-2-step-verification")))])])])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"wp2sv-row"},[e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary pull-right",on:{click:function(t){return s.$root.$emit("enroll:start")}}},[s._v(s._s(s.i18n.__("Get started","wordpress-2-step-verification")))])])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-col-0 card-icon"},[t("div",{staticClass:"wp2sv-logo"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-col-0"},[t("div",{staticClass:"wp2sv-icon wp2svi-additional-layer"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-col-0"},[t("div",{staticClass:"wp2sv-icon wp2svi-hacker"})])}]}},function(s,t,e){var i=e(0)(e(33),e(34),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{step:"welcome"}},created:function(){this.$root.$on("enroll:cancel",this.cancel),this.$root.$on("enroll:start",this.start),this.$root.$on("enroll:email-flow",this.emailEnroll),this.$root.$on("enroll:app-flow",this.appEnroll)},methods:{start:function(s){s&&s.preventDefault(),this.emailEnroll()},appEnroll:function(s){this.step="app"},emailEnroll:function(){console.log("email"),this.step="email"},cancel:function(){this.step="welcome"}},computed:{stepComponent:function(){return"wp2sv-enroll-"+this.step}}}},function(s,t){s.exports={render:function(){var s=this.$createElement;return(this._self._c||s)(this.stepComponent,{tag:"component"})},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(36),e(37),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(3),a=e(1),n=e(2),o=wp.i18n;o.__,o._x,o._n,o._nx;t.default={props:["enroll"],data:function(){return{step:"select-device",device:"android",error_code:"",code:"",qr_url:"",secret:""}},mixins:[a.a],mounted:function(){var s=this;Object(i.a)(this.$el).closest(".wp2sv-modal").on("close",function(){s.reset()})},watch:{step:function(){"setup"===this.step&&this.loadQrCodes()}},computed:{formatted_secret:function(){return this.secret.replace(/(.{4})/g,"$1 ").trim()}},methods:{next:function(){var s=this;switch(this.step){case"select-device":this.step="setup";break;case"setup":case"manually-setup":this.step="test";break;case"test":this.testCode();break;case"complete":n.a.set("mobile_dev",this.device),wp2sv.closeModal();break;case"turn-on":this.disabled=!0,wp2sv.post({action:"enable",code:this.code,secret:this.secret,device:this.device}).done(function(s){if(s&&s.success)return n.a.load();n.a.reload()}).always(function(){s.disabled=!1})}},testCode:function(){var s=this;this.code?(this.disabled=!0,wp2sv.post({action:"test-code",code:this.code,secret:this.secret,changeDevice:this.enroll?"":1,device:this.device}).done(function(t){t&&(t.success?s.enroll?s.step="turn-on":s.step="complete":s.error_code=s.__("Invalid code. Please try again.","wordpress-2-step-verification"))}).always(function(){s.disabled=!1})):this.error_code=a.a.__("Please enter your verification code.","wordpress-2-step-verification")},back:function(){this.step="setup"},manually:function(){this.step="manually-setup"},reset:function(){i.a.extend(this.$data,{step:"select-device",device:"android",error_code:"",code:"",qr_url:"",secret:""})},loadQrCodes:function(){var s=this;wp2sv.get("qrcode").then(function(s){return!(!s||!s.success)&&s.data}).then(function(t){t&&(s.qr_url=t.url,s.secret=t.secret)})},useEmail:function(s){s&&s.preventDefault(),this.$root.$emit("enroll:email-flow")}}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-body"},[s.enroll?e("div",{staticClass:"wp2sv-row"},[s._m(0),s._v(" "),e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h1"},[s._v("\n                    "+s._s(s.i18n.__("Protect your account with 2-Step Verification","wordpress-2-step-verification"))+"\n                ")]),s._v(" "),e("p",[s._v("\n                    "+s._s(s.i18n.__("Each time you sign in to your account, you'll need your password and a verification code. ","wordpress-2-step-verification")))])])]):s._e(),s._v(" "),"select-device"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Get codes from the Authenticator app","wordpress-2-step-verification"))+"\n            ")]),s._v(" "),e("div",{staticClass:"wp2sv-text"},[s._v("\n                "+s._s(s.i18n.__("Instead of waiting for text messages, get verification codes for free from the Authenticator app. It works even if your phone is offline."))+"\n            ")]),s._v(" "),e("div",{staticClass:"wp2sv-h2"},[s._v(s._s(s.i18n.__("What kind of phone do you have?","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.device,expression:"device"}],attrs:{type:"radio",value:"android"},domProps:{checked:s._q(s.device,"android")},on:{change:function(t){s.device="android"}}}),s._v(" Android")])]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.device,expression:"device"}],attrs:{type:"radio",value:"iphone"},domProps:{checked:s._q(s.device,"iphone")},on:{change:function(t){s.device="iphone"}}}),s._v(" Iphone")])])]):s._e(),s._v(" "),"setup"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Set up Authenticator","wordpress-2-step-verification")))]),s._v(" "),"android"===s.device?e("ol",{staticClass:"wp2sv-p"},[e("li",{domProps:{innerHTML:s._s(s.sprintf(s.i18n.__("Get the Authenticator App from the %s.","wordpress-2-step-verification"),s.sprintf('<a target="_blank" href="%s">%s</a>',"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2",s.i18n.__("Play Store","wordpress-2-step-verification"))))}}),s._v(" "),e("li",{domProps:{innerHTML:s._s(s.i18n.__("In the App select <b>Set up account.</b>","wordpress-2-step-verification"))}}),s._v(" "),e("li",{domProps:{innerHTML:s._s(s.i18n.__("Choose <b>Scan a barcode.</b>","wordpress-2-step-verification"))}}),s._v(" "),e("li",{staticStyle:{"list-style-type":"none"}},[e("div",{staticClass:"wp2sv-center"},[s.qr_url?e("img",{staticClass:"wp2sv-qrcode",attrs:{alt:"QR Code",src:s.qr_url}}):s._e(),s._v(" "),e("span",{staticClass:"wp2sv-action",on:{click:s.manually}},[s._v(s._s(s.i18n.__("Can't scan it?","wordpress-2-step-verification")))])])])]):e("ol",{staticClass:"wp2sv-p"},[e("li",{domProps:{innerHTML:s._s(s.sprintf(s.i18n.__("Get the Authenticator App from the %s.","wordpress-2-step-verification"),s.sprintf('<a target="_blank" href="%s">%s</a>',"https://itunes.apple.com/en/app/google-authenticator/id388497605",s.i18n.__("App Store","wordpress-2-step-verification"))))}}),s._v(" "),e("li",{domProps:{innerHTML:s._s(s.i18n.__("In the App select <b>Set up account.</b>","wordpress-2-step-verification"))}}),s._v(" "),e("li",{domProps:{innerHTML:s._s(s.i18n.__("Choose <b>Scan a barcode.</b>","wordpress-2-step-verification"))}}),s._v(" "),e("li",{staticStyle:{"list-style-type":"none"}},[e("div",{staticClass:"wp2sv-center"},[s.qr_url?e("img",{staticClass:"wp2sv-qrcode",attrs:{alt:"QR Code",src:s.qr_url}}):s._e(),s._v(" "),e("span",{staticClass:"wp2sv-action",on:{click:s.manually}},[s._v(s._s(s.i18n.__("Can't scan it?","wordpress-2-step-verification")))])])])])]):"manually-setup"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Can't scan the barcode?","wordpress-2-step-verification")))]),s._v(" "),e("ol",{staticClass:"wp2sv-p"},[e("li",{domProps:{innerHTML:s._s(s.i18n.__("Tap <b>Menu</b>, then <b>Set up account</b>.","wordpress-2-step-verification"))}}),s._v(" "),e("li",{domProps:{innerHTML:s._s(s.i18n.__("Tap <b>Enter provided key</b>.","wordpress-2-step-verification"))}}),s._v(" "),e("li",[s._v(s._s(s.i18n.__("Enter your username and this key:","wordpress-2-step-verification")))]),s._v(" "),e("li",{staticStyle:{"list-style-type":"none"}},[e("div",{staticClass:"wp2sv-bd wp2sv-text-center"},[e("div",{staticClass:"wp2sv-bb"},[s._v(s._s(s.formatted_secret))]),s._v(" "),e("br"),s._v(s._s(s.i18n.__("spaces don't matter","wordpress-2-step-verification"))+"\n                    ")])]),s._v(" "),e("li",{domProps:{innerHTML:s._s(s.i18n.__("Make sure <b>Time based</b> is turned on, and tap <b>Add</b> to finish.","wordpress-2-step-verification"))}})])]):"test"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Set up Authenticator","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[s._v("\n                "+s._s(s.i18n.__("Enter the 6-digit code you see in the app.","wordpress-2-step-verification"))+"\n            ")]),s._v(" "),e("div",{staticClass:"wp2sv-form-group",class:s.error_code?"wp2sv-error":""},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.code,expression:"code"}],attrs:{type:"text",id:"test-code",maxlength:"6",placeholder:"Enter code"},domProps:{value:s.code},on:{input:function(t){t.target.composing||(s.code=t.target.value)}}})]),s._v(" "),s.error_code?e("div",[s._v(s._s(s.error_code))]):s._e()])]):"complete"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Done!","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[s._v("\n                "+s._s(s.i18n.__("You're all set. From now on, you'll use Authenticator to sign in to your Wordpress Account.","wordpress-2-step-verification"))+"\n            ")])]):"turn-on"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("It worked! Turn on 2-Step Verification?","wordpress-2-step-verification"))+"\n            ")]),s._v(" "),e("p",[s._v("\n                "+s._s(s.i18n.__("Now that you've seen how it works, do you want to turn on 2-Step Verification for your Wordpress Account?","wordpress-2-step-verification")))])]):s._e()]),s._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"wp2sv-row"},[s.enroll&&"turn-on"!==s.step?e("div",{staticClass:"wp2sv-col"},[e("span",{staticClass:"wp2sv-action",on:{click:s.useEmail}},[s._v(s._s(s.i18n.__("Use email","wordpress-2-step-verification")))])]):s._e(),s._v(" "),s.enroll?e("div",{staticClass:"pull-right"},["manually-setup"===s.step?e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",on:{click:s.back}},[s._v("\n                    "+s._s(s.i18n.__("Back","wordpress-2-step-verification"))+"\n                ")]):s._e(),s._v(" "),"turn-on"===s.step?e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",on:{click:s.next}},[s._v("\n                    "+s._s(s.i18n.__("Turn on","wordpress-2-step-verification"))+"\n                ")]):"test"===s.step?e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",on:{click:s.next}},[s._v("\n                    "+s._s(s.i18n.__("Verify","wordpress-2-step-verification"))+"\n                ")]):e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",on:{click:s.next}},[s._v("\n                    "+s._s(s.i18n.__("Next","wordpress-2-step-verification"))+"\n                ")])]):e("div",{staticClass:"pull-right"},["manually-setup"===s.step?e("span",{staticClass:"wp2sv-action",on:{click:s.back}},[s._v(s._s(s.i18n.__("Back","wordpress-2-step-verification")))]):"complete"!==s.step?e("span",{staticClass:"wp2sv-action wp2sv-modal-close"},[s._v(s._s(s.i18n.__("Cancel","wordpress-2-step-verification")))]):s._e(),s._v(" "),"complete"===s.step?e("span",{staticClass:"wp2sv-action",on:{click:s.next}},[s._v(s._s(s.i18n.__("Done","wordpress-2-step-verification")))]):"test"===s.step?e("span",{staticClass:"wp2sv-action",on:{click:s.next}},[s._v(s._s(s.i18n.__("Verify","wordpress-2-step-verification")))]):e("span",{staticClass:"wp2sv-action",on:{click:s.next}},[s._v(s._s(s.i18n.__("Next","wordpress-2-step-verification")))])])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-col-0 card-icon"},[t("div",{staticClass:"wp2sv-logo"})])}]}},function(s,t,e){var i=e(0)(e(39),e(40),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(3),a=e(1),n=e(2),o=wp.i18n,r=o.__;o._x,o._n,o._nx;t.default={data:function(){return{backup_codes:!1,date:"",icon128:wp2sv.url.assets+"/images/icon-128x128.png",user_login:n.a.state.user_login,site_url:wp2sv.url.site}},mixins:[a.a],mounted:function(){this.loadCode()},computed:{site_url_without_http:function(){return this.site_url.replace("http://","").replace("https://","")}},methods:{download:function(){var s=ajaxurl+"?action=wp2sv&wp2sv_action=download_backup_codes&wp2sv_nonce="+wp2sv._nonce;window.location.href=s},loadCode:function(){var s=this;Object(i.a)(this.$el).closest(".wp2sv-modal").on("open",function(){s.getCodes()})},getCodes:function(s){var t=this;t.backup_codes=!1,wp2sv.get("backup-codes",{generate:s?1:0}).then(function(s){if(s&&s.success&&s.data&&s.data.codes)return s.data}).then(function(s){s&&(n.a.set("backup_codes",s.unused),t.backup_codes=s.codes,t.date=s.date)})},print:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.print()},generate:function(){var s=this;wp2sv.confirm(r("Get new codes?","wordpress-2-step-verification"),r("If you get a new set of backup codes, none of your current codes will work.","wordpress-2-step-verification"),function(t){t&&s.getCodes(!0)})}}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-head"},[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Save your backup codes","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Keep these backup codes somewhere safe but accessible.","wordpress-2-step-verification")))])]),s._v(" "),e("div",{staticClass:"card-body"},[s.backup_codes?e("div",{staticClass:"backup-codes wp2sv-text-center"},[e("table",{staticClass:"backup-codes-list"},s._l(s.backup_codes,function(t){return e("tr",s._l(t,function(t){return e("td",[t.used?s._e():e("span",{staticClass:"cb"}),s._v(" "),e("span",[s._v(s._s(t.used?s.i18n.__("ALREADY USED","wordpress-2-step-verification"):t.code))])])}),0)}),0)]):e("div",{staticClass:"wp2sv-loading"},[e("div",{staticClass:"wp2svi-loading"},[e("svg",{staticClass:"icircular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"ipath",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Loading backup codes...","wordpress-2-step-verification")))])]),s._v(" "),s.backup_codes?e("div",{staticClass:"backup-codes"},[e("div",{staticClass:"backup-info"},[e("div",[e("img",{attrs:{src:s.icon128}})]),s._v(" "),e("p",[s._v(s._s(s.site_url)+" ("+s._s(s.user_login)+")")])]),s._v(" "),e("ul",{staticClass:"backup-note"},[e("li",[s._v(s._s(s.i18n.__("You can only use each backup code once.","wordpress-2-step-verification")))]),s._v(" "),e("li",{staticClass:"show-if-print",domProps:{innerHTML:s._s(s.sprintf(s.i18n.__("Need more? Visit %s","wordpress-2-step-verification"),s.sprintf('<a href="%s">%s</a>',s.site_url,s.site_url_without_http)))}}),s._v(" "),e("li",[s._v(s._s(s.i18n.__("These codes were generated on:","wordpress-2-step-verification"))+" "+s._s(s.date))])])]):s._e(),s._v(" "),e("p",{staticClass:"wp2sv-text-center hide-if-print btn-new-codes"},[e("button",{staticClass:"wp2sv-btn",on:{click:s.generate}},[s._v(s._s(s.i18n.__("Get new codes","wordpress-2-step-verification")))])])]),s._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"wp2sv-row"},[e("div",{staticClass:"pull-right"},[e("span",{staticClass:"wp2sv-action wp2sv-modal-close"},[s._v(s._s(s.i18n.__("Close","wordpress-2-step-verification")))]),s._v(" "),e("span",{staticClass:"wp2sv-action",on:{click:s.download}},[s._v(s._s(s.i18n.__("Download","wordpress-2-step-verification")))]),s._v(" "),e("span",{staticClass:"wp2sv-action",on:{click:s.print}},[s._v(s._s(s.i18n.__("Print","wordpress-2-step-verification")))])])])])])},staticRenderFns:[]}},function(s,t,e){var i=e(0)(e(42),e(43),!1,null,null,null);s.exports=i.exports},function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(3),a=e(1),n=e(2),o=wp.i18n,r=o.__;o._x,o._n,o._nx;t.default={mixins:[a.a],props:["enroll"],data:function(){return{step:"email",email:"",code:"",error_email:"",error_code:"",disabled:!1}},mounted:function(){var s=this;Object(i.a)(this.$el).closest(".wp2sv-modal").on("close",function(){s.reset()})},methods:{useApp:function(){this.$root.$emit("enroll:app-flow")},startOver:function(s){s&&s.preventDefault(),this.step="email"},next:function(){var s=this;switch(this.step){case"email":this.error_email="",this.email?(this.disabled=!0,wp2sv.toast.info(r("Working...","wordpress-2-step-verification")),wp2sv.post({action:"send-email",email:s.email}).done(function(t){t&&(t&&t.success?s.step="test":t.data&&t.data.message&&(s.error_email=t.data.message))}).fail(function(){wp2sv.toast.error(r("Failed","wordpress-2-step-verification"))}).always(function(){s.disabled=!1,wp2sv.toast.hide()})):this.error_email=r("Invalid email, try again.");break;case"test":this.disabled=!0,wp2sv.post({action:"test-code",code:this.code,email:this.email,updateEmail:!this.enroll}).done(function(t){t&&(t.success?s.enroll?s.step="turn-on":(n.a.set("emails",t.data.emails),s.complete()):s.error_code=r("Invalid code. Please try again.","wordpress-2-step-verification"))}).always(function(){s.disabled=!1});break;case"turn-on":this.disabled=!0,wp2sv.post({action:"enable",code:this.code,email:this.email}).then(function(s){if(s&&s.success)return n.a.load();n.a.reload()}).always(function(){s.disabled=!1});break;case"complete":wp2sv.closeModal()}},complete:function(){wp2sv.closeModal()},reset:function(){i.a.extend(this.$data,{step:"email",email:"",code:"",error_email:"",error_code:"",disabled:!1})},cancel:function(){this.$root.$emit("enroll:cancel")}}}},function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-body"},[s.enroll?e("div",{staticClass:"wp2sv-row"},[s._m(0),s._v(" "),e("div",{staticClass:"wp2sv-col"},[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Protect your account with 2-Step Verification","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Each time you sign in to your account, you'll need your password and a verification code. ","wordpress-2-step-verification")))])])]):s._e(),s._v(" "),"edit"===s.step?e("div",[s._v("\n            Edit...\n        ")]):"email"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Let's set up your email","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("What email address do you want to use?","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-form-group",class:s.error_email?"wp2sv-error":""},[e("label",{staticClass:"has-float-label",attrs:{for:"email"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],attrs:{type:"text",id:"email",required:""},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}})]),s._v(" "),s.error_email?e("div",{domProps:{innerHTML:s._s(s.error_email)}}):s._e()])]):"test"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Confirm that it works","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[s._v(s._s(s.i18n.__("Wp2sv just sent an email with a verification code to","wordpress-2-step-verification"))+" "+s._s(s.email)+".")]),s._v(" "),e("div",{staticClass:"wp2sv-form-group",class:s.error_code?"wp2sv-error":""},[e("label",{staticClass:"has-float-label",attrs:{for:"code"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.code,expression:"code"}],attrs:{type:"text",id:"code",required:"",placeholder:s.i18n.__("Enter the code","")},domProps:{value:s.code},on:{input:function(t){t.target.composing||(s.code=t.target.value)}}})]),s._v(" "),s.error_code?e("div",[s._v(s._s(s.error_code))]):s._e()]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Didn't get it?","wordpress-2-step-verification"))+" "),e("a",{attrs:{href:""},on:{click:s.startOver}},[s._v(s._s(s.i18n.__("Resend","wordpress-2-step-verification")))])])]):"turn-on"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("It worked! Turn on 2-Step Verification?","wordpress-2-step-verification")))]),s._v(" "),e("p",[s._v(s._s(s.i18n.__("Now that you've seen how it works, do you want to turn on 2-Step Verification for your Wordpress Account?","wordpress-2-step-verification")))])]):"complete"===s.step?e("div",[e("div",{staticClass:"wp2sv-h1"},[s._v(s._s(s.i18n.__("Done!","wordpress-2-step-verification")))]),s._v(" "),e("div",{staticClass:"wp2sv-p"},[s._v(s._s(s.i18n.__("You're all set. From now on, you'll use Email to sign in to your Wordpress Account.","wordpress-2-step-verification")))])]):s._e()]),s._v(" "),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"wp2sv-row"},[s.enroll&&"turn-on"!==s.step?e("div",{staticClass:"wp2sv-col"},[e("span",{staticClass:"wp2sv-action",on:{click:s.useApp}},[s._v(s._s(s.i18n.__("Use app","wordpress-2-step-verification")))])]):s._e(),s._v(" "),s.enroll?e("div",{staticClass:"pull-right"},["turn-on"===s.step?e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",attrs:{disabled:s.disabled},on:{click:s.next}},[s._v(s._s(s.i18n.__("Turn on","wordpress-2-step-verification")))]):e("button",{staticClass:"wp2sv-btn wp2sv-btn-primary",attrs:{disabled:s.disabled},on:{click:s.next}},[s._v(s._s(s.i18n.__("Next","wordpress-2-step-verification")))])]):e("div",{staticClass:"pull-right"},["complete"!==s.step?e("span",{staticClass:"wp2sv-action wp2sv-modal-close"},[s._v(s._s(s.i18n.__("Cancel","wordpress-2-step-verification")))]):s._e(),s._v(" "),"test"===s.step?e("span",{staticClass:"wp2sv-action",on:{click:s.next}},[s._v(s._s(s.i18n.__("Done","wordpress-2-step-verification")))]):e("span",{staticClass:"wp2sv-action",on:{click:s.next}},[s._v(s._s(s.i18n.__("Next","wordpress-2-step-verification")))])])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"wp2sv-col-0 card-icon"},[t("div",{staticClass:"wp2sv-logo"})])}]}},function(s,t){},function(s,t){},function(s,t){},function(s,t){}]);